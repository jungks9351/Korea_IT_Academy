# PHP

## include

- 현재 파일에 다른 파일을 삽입
  - 현재 페이지에 다른 화면 또는 파일을 포함 시키는것
- include "파일명";
- 공통되는 부분을 유지보수하기 편하다

## 문자열 함수

### strlen()

- 전달 받은 문자열의 길이를 반환

### strcmp()

- 전달 받은 두 개의 문자열을 서로 비교
- 첫번째 매개변수가 두번째 매개변수보다 크면 양수, 작으면 음수를 반환
- 같으면 0을 반환

### strstr()

- 해당 문자열에서 전달 받은 문자열과 처음으로 일치하는 부분을 찾음

### strpos()

- 해당 문자열에서 전달 받은 문자열과 처음으로 일치하는 인덱스를 반환

### substr()

- 해당 문자열에서 특정 인덱스부터 전달받은 길이만큼의 일부분을 추출

### explode()

- 특정 문자를 기준으로 전달 받은 문자열을 나눠서 배열로 반환

### str_replace()

- 해당 문자열에서 전달 받은 문자열을 모두 찾은 후에 대체 문자열로 교체함

## 쿠키(Cookie)

- 웹 사이트에 접속할 때 서버에 의해 사용자의 컴퓨터에 저장되는 정보를 의미
- 클라이언트 측의 컴퓨터(브라우저)에 데이터를 남겨 필요할 때 마다 사용
- 데이터 형태는 key와 value로 구성
- 문자열로만 이루어져 있음
- 4kb이상 저장할 수 없음
- 서버당 1개의 저장소를 사용

### 쿠키를 만드는 방법

setcookie(쿠키이름, 값, 만료시간, 저장위치, 도메인정보, 프로토콜);

### 쿠키를 읽어오는 방법

변수 = $\_COOKIE[쿠키이름];

### 변경하는 방법

다시 setcookie에 의해 재설정

### 쿠키를 삭제하는 방법

쿠키 만료시간을 0 또는 과거시간으로 변경해주면 자동으로 삭제

#### time()

- 현재 날짜 시간을 가져오는 함수
- 초(s)단위 계산

### isset()

- 데이터가 존재하는지 여부(true, false)를 반환

## 세션(session)

- 웹 사이트의 여러 페이지에 걸쳐 사용되는 사용자 정보를 저장하는 방법을 의미
- 서비스가 돌아가는 서버측에 데이터를 저장
- 키와 값으로 저장되는 형태
- 키 값만을 클라이언트 측으로 남겨둠
- 사용자가 브라우저를 닫아 서버와의 연결을 끝내는 시점까지가 만료시간
- 브라우저는 필요할 때마다 키값을 이용하여 서버에 저장된 데이터를 사용

### php 세션 사용

- php 파일 제일 상단 session_start();를 명시

### 세션 id 접근

```
session_id();
```

### 세션 변수를 만드는 방법

$\_SESSION["키"] = 값;

### 세션 변수를 수정하는 방법

$\_SESSION["키"] = 새로운 값;

### 세션 변수를 삭제하는 방법

session_unset();

### 세션 시간 설정 및 지속시간 우선순위

- 페이지 설정(php 코드로 세션 시간을 설정)

```
  session.gc_maxlifetime= 1440; // 24분
```

- php.ini 설정

```
  C:\php7\php.ini
  session.gc_maxlifetime= 1440; // 24분
```

- 아파치 설정

## php 파일(file) 다루기

### readfile()

- 파일에서 데이터를 한 줄로 읽어오는 함수
- echo 함수를 사용할 필요가 없으며, 텍스트를 표시할 위치에 사용하면 읽어온 내용을 그대로 출력

### file()

- 매개변수에 지정된 파일을 읽어 한줄씩 나눠 배열에 저장

#### 🎁 파일 처리할 때 실패할 가능성이 있는 경우 처리방법

- @을 붙이면 실행시 에러가 나더라도 스크립트를 중단하지 않으며, 화면에 에러를 발생시키지 않음
- $변수 = @file(파일경로) or "실패했을경우 처리할 문장"

